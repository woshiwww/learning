## 一、进程的描述

### （1）进程的定义

进程：一个具有一定独立功能的程序在一个数据集合上的一次动态执行过程。

### （2）进程的组成

一个进程应该包括：

- 程序的代码。

- 程序处理的数据。

- 程序计数器中的值，指示下一条将运行的指令

- 一组通用的寄存器的当前值，堆、栈

- 一组系统资源

进程和程序的关系：

- 程序是产生进程的基础

- 程序的每次运行构成不同的进程

- 进程是程序功能的体现

- 通过多次运行，一个程序可对应多个进程。通过调用关系，一个进程可包含多个程序。

进程和程序的区别：

- 进程是动态的，程序是静止的。
- 程序是有序代码的集合。
- 进程是程序的执行，进程有核心态核用户态。
- 进程是暂时的，程序是永久的。
- 进程是一个状态变化的过程，程序可长久保存。
- 进程与程序组成不同。

### （3）进程控制结构

进程控制块(PCB)：操作系统管理控制进程运行所用的信息集合。操作系统用PCB描述进程的基本情况以及运行变化的过程，PCB是进程存在的唯一标志。

进程控制块包含三个重要信息：

1. 进程标识信息。如本进程的标识，进程的产生者标识(父进程标识)；用户标识。
2. 处理机状态信息保存区。保存进程的运行现场信息。
3. 进程的控制信息。

进程的生命周期：

- 进程创建
- 运行
- 等待
- 唤醒
- 结束



## 二、进程的状态

进程有三种基本状态：

运行态：进程正在处理器上运行。

就绪态：进程获得了除了处理器之外的所有资源，一旦得到处理器就可以运行。

等待状态(又称阻塞)：一个进程正在等待某一件事而停止运行时。

**进程挂起：**是为了充分合理的利用系统资源。进程在挂起状态时，意味着进程没有占用内存空间。处在挂起状态的进程映像在磁盘上。

进程的挂起状态有两种：

- 阻塞挂起状态：进程在外存等待某事件的出现。
- 就绪挂起状态：进程在外存，但只要进入内存即可运行。

## 三、线程(Thread)

线程：更小的能独立运行的基本单位。线程之间可以共享相同的地址空间。

线程 + 共享资源 = 进程

线程的优点：

- 一个进程可以包含多个线程。
- 各线程之间可以并发地执行。
- 各线程之间可以共享地址空间和文件等资源。

线程的缺点：

- 一个线程崩溃，会导致其所属进程的所有线程崩溃。比如打开一个浏览器，可以打开不同的网页，但是当一个网页崩溃的时候，可能导致所有的网页崩溃。

<img src="https://gitee.com/one_to_one/markdown-img/raw/master/imgs/202203241050810.png" alt="image-20220324105015743" style="zoom:80%;" />

单线程进程空间中只有一个控制流，多线程有多个控制流，而且有独立的寄存器和堆栈，但是共享代码、数据和文件。

线程和进程的比较：

- 进程是资源分配单位，线程是CPU调度单位。
- 进程拥有一个完整的资源平台，而线程只独享必不可少的资源，如寄存器和栈。
- 线程同样拥有就绪、阻塞和执行三种基本状态，同样具有状态之间的转换关系。
- 线程能减少并发执行的时间和空间开销。
  1. 线程创建的时间比进程短
  2. 线程终止的时间比进程短
  3. 同一进程内的线程切换时间比进程短
  4. 由于同一进程的各线程间共享内存和文件资源，可直接进行不通过内核的通信。

线程的实现主要有三种方式：

1. 用户线程。在用户空间实现。操作系统看不到的线程叫做用户线程，由应用程序的库来进行实现，完成线程的管理。POSIX    Pthreads
2. 内核线程。由操作系统管理的线程，在内核中实现。
3. 轻量级线程。在内核中实现，支持用户线程。

##  





